import{Q as u}from"./Ripple.c6f28b6d.js";import{Q as r}from"./QInput.37fbdc3b.js";import{Q as V}from"./QBtn.2bc597a5.js";import{a as w,c as f,d as I,g as C}from"./firebase.aeb0f573.js";import{r as i,f as A,j as N,I as v,T as b,U as m,L as l,K as c,a1 as g,a2 as _}from"./index.bc33676a.js";import"./uid.937d8ee7.js";import"./focus-manager.8b978c72.js";const U={key:0,class:"q-pa-md example-row-equal-width"},h={align:"center",class:"q-pa-md"},k={class:"q-gutter-y-md column",style:{"max-width":"370px"}},Q={key:1,class:"q-pt-lg example-row-equal-width text-center"},F={__name:"NewAnalysis",setup(B){const s=i(""),o=i(""),n=i(""),d=i(""),p=A(()=>y.value.some(t=>t.estado==="Pendiente")),y=i([]),x=async()=>{s.value&&o.value&&n.value&&d.value&&(await w(f(I,"analisis"),{titulo:s.value,descripcion:o.value,fecha:n.value,ubicacion:d.value,estado:"Pendiente",datos:{ph:"",tds:"",turbidez:""}}),s.value="",o.value="",n.value="",d.value="")},q=async()=>{try{const t=f(I,"analisis"),e=await C(t);y.value=e.docs.map(a=>({id:a.id,...a.data()})).reverse()}catch(t){console.error("Error getting documents: ",t)}console.log(p.value)};return N(()=>{q()}),(t,e)=>(v(),b(_,null,[p.value==!1?(v(),b("div",U,[e[4]||(e[4]=m("div",{class:"q-my-md text-h5 text-center"},"Nuevo An\xE1lisis",-1)),m("div",h,[m("div",k,[l(r,{class:"q-mb-sm",dense:"",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),label:"TITULO"},{prepend:c(()=>[l(u,{name:"edit"})]),_:1},8,["modelValue"]),l(r,{class:"q-mb-sm",dense:"",modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value=a),label:"DESCRIPCION"},{prepend:c(()=>[l(u,{name:"edit_note"})]),_:1},8,["modelValue"]),l(r,{class:"q-mb-sm",dense:"",modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=a=>d.value=a),label:"UBICACION"},{prepend:c(()=>[l(u,{name:"place"})]),_:1},8,["modelValue"]),l(r,{class:"q-mb-lg",dense:"",modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=a=>n.value=a),label:"FECHA",type:"date"},{prepend:c(()=>[l(u,{name:"event"})]),_:1},8,["modelValue"]),l(V,{color:"primary",to:"/analysis-results",icon:"sync",label:"INICIAR ANALISIS",onClick:x})])])])):g("",!0),p.value==!0?(v(),b("div",Q,[e[5]||(e[5]=m("div",{class:"q-my-md text-weight-regular text-h6 text-center"},"\xA1Actualmente se encuentra un an\xE1lisis pendiente!",-1)),l(V,{outline:"",label:"Ir a resultados",to:"/analysis-results",color:"black"})])):g("",!0)],64))}};export{F as default};
